<div class="container">
    <div class="card-wrapper">
        <h2 class="mb-3">Add Income</h2>
        <div class="alert alert-danger mb-4" role="alert" *ngIf="submitted && incomeForm.invalid">
            <span *ngIf="incomeForm.invalid">One or more fields are required.</span>
        </div>
        <form [formGroup]="incomeForm" (ngSubmit)="onSubmit()">
            <div class="form-group mb-3">
                <label>Income Source:</label>
                <input class="form-control" type="text" formControlName="source">
                <div class="text-danger" *ngIf="incomeForm.controls['source'].invalid && incomeForm.controls['source'].touched">
                    <small *ngIf="incomeForm.controls['source'].errors?.['required']">Income source is required</small>
                </div>
            </div>
            <div class="form-group mb-3">
                <label>Amount:</label>
                <input class="form-control" type="number" formControlName="amount">
                <div class="text-danger" *ngIf="incomeForm.controls['amount'].invalid && incomeForm.controls['amount'].touched">
                    <small *ngIf="incomeForm.controls['amount'].errors?.['required']">Amount is required</small>
                </div>
            </div>
            <div class="form-group mb-3">
                <label>Date:</label>
                <input class="form-control" type="date" formControlName="date">
                <div class="text-danger" *ngIf="incomeForm.controls['date'].invalid && incomeForm.controls['date'].touched">
                    <small *ngIf="incomeForm.controls['date'].errors?.['required']">Date is required</small>
                </div>
            </div>
            <button class="btn btn-dark" type="submit">Submit</button>
        </form>
    </div>

    <div class="mt-5">
        <table class="table table-bordered">
            <thead class="table-dark">
                <tr>
                    <th>Source</th>
                    <th>Amount</th>
                    <th>Date</th>
                    <th>Action</th>
                  </tr>
            </thead>
            <tbody>
              <tr *ngFor="let income of incomes">
                <td>{{income.source}}</td>
                <td>{{income.amount}}</td>
                <td>{{income.date}}</td>
                <td><button class="btn btn-danger" (click)="deleteIncome(income.id)">Delete</button></td>
              </tr>
            </tbody>
            <tfoot *ngIf="incomes.length === 0">
                <tr>
                  <td colspan="4" class="text-center">No data found!!!</td>
                </tr>
              </tfoot>
          </table>
    </div>

</div>